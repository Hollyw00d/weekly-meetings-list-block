!function(){var e={908:function(e){let t=null;const n=(e,t,a)=>{let l=e.nodeValue;if(e.childNodes.length>0&&(l=[...e.childNodes].map((e=>n(e,t,a))).join("")),l=l||"",t.includes(e.nodeName.toUpperCase())){let t="";return e.attributes.length>0&&[...e.attributes].forEach((e=>{a.includes(e.name.toUpperCase())&&(e.value.startsWith("javascript:")||-1!==e.value.indexOf('"')||-1!==e.value.indexOf("\n")||(t+=` ${e.name}="${e.value}"`))})),l?`<${e.nodeName}${t}>${l}</${e.nodeName}>`:`<${e.nodeName}${t}/>`}return l};e.exports=(e,a=[],l=[])=>{t=t||new DOMParser;const o=t.parseFromString(e,"text/html");return n(o.body,a.map((e=>e.toUpperCase())),l.map((e=>e.toUpperCase())))}}},t={};function n(a){var l=t[a];if(void 0!==l)return l.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=window.wp.blocks,t=window.wp.element,a=(window.wp.i18n,window.wp.components),l=window.wp.blockEditor,o=n(908),r=n.n(o);class i{convertToCapitalDay(e){return e.charAt(2).toUpperCase()+e.slice(3)}generateDaysArr(){let e=[{value:"",label:"Choose day"}];const t=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];for(let n=0;n<7;n++){let a=`${n+1}_${t[n]}`;const l=this.convertToCapitalDay(a);e.push({value:a,label:l})}return e}convertToAmPm(e){const t=Number(e.slice(0,2));let n=null;const[a,l]=["AM","PM"];switch(!0){case 0===t:return n=`12${e.slice(2)} ${a}`,n;case t>0&&t<12:return n=`${t}${e.slice(2)} ${a}`,n;case 12===t:return n=`12${e.slice(2)} ${l}`,n;case t>12:return n=`${t-12}${e.slice(2)} ${l}`,n;default:return""}}generateTimesArr(e){let t=[{value:"",label:"Choose time"}],n=0;for(let a=0;n<1440;a++){let a=Math.floor(n/60),l=n%60,o=(1===String(a).length?"0"+a:a)+":"+("0"+l).slice(-2),r=this.convertToAmPm(o);t.push({value:o,label:r}),n+=e}return t}blockDropdown(e,t,n){for(let a=0;a<t.length;a++){let l=t[a],o=`${n}${l}`;e.push({value:o,label:l})}return e}locationGroupTypeArr(){return this.blockDropdown([{value:"",label:"Choose meeting location type"}],["Remote","Hybrid (remote & in-person)","In-Person"],"location~")}accessGroupTypeArr(){return this.blockDropdown([{value:"",label:"Choose meeting access type"}],["Open (visitors welcome)","Closed (only open to those seeking help)"],"access~")}genderGroupTypeArr(){return this.blockDropdown([{value:"",label:"Choose meeting gender type"}],["Mixed (all genders)","Women","Men"],"gender~")}removeStrPrefix(e){const t=e.indexOf("~")+1;return e.slice(t)}htmlToString(e){let t=e.replaceAll("<br />"," ");return t=r()(t),t}parentJsonHeadingAttrs(e){const{attributes:t}=e;return{dayOfWeekHeading:this.htmlToString(t?.dayOfWeekHeading?.default),timeHeading:this.htmlToString(t?.timeHeading?.default),cityHeading:this.htmlToString(t?.cityHeading?.default),groupTypeHeading:this.htmlToString(t?.groupTypeHeading?.default),meetingNameHeading:this.htmlToString(t?.meetingNameHeading?.default),groupInfoHeading:this.htmlToString(t?.groupInfoHeading?.default)}}}function s({locationGroupType:e,accessGroupType:n,genderGroupType:a,additionalGroupType:l}){const o=new i,r=o.removeStrPrefix(e),s=o.removeStrPrefix(n),c=o.removeStrPrefix(a);return r.length>0||s.length>0||c.length>0||l.length>0?(0,t.createElement)("ul",null,r.length>0?(0,t.createElement)("li",null,r):null,s.length>0?(0,t.createElement)("li",null,s):null,c.length>0?(0,t.createElement)("li",null,c):null,l.length>0?(0,t.createElement)("li",null,l):null):null}function c({mtgStartTime:e,mtgEndTime:n}){const a=new i,l=a.convertToAmPm(e),o=a.convertToAmPm(n);return(0,t.createElement)(t.Fragment,null,e?(0,t.createElement)(t.Fragment,null,l,(0,t.createElement)("br",null)):null,n?(0,t.createElement)(t.Fragment,null,"to",(0,t.createElement)("br",null),o):null)}var m=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"create-block/meetings-table-block","version":"0.1.0","title":"Weekly Meetings Block","category":"widgets","icon":"editor-table","description":"Add a block to show a table of on-going weekly meetings. Some examples could be for a book club, 12 Step group, meditation group, or another type of religious studies group.","attributes":{"tableTitle":{"type":"string","default":""},"citiesArr":{"type":"array","default":[]},"groupTypesArr":{"type":"array","default":[]},"dayOfWeekHeading":{"type":"string","default":"Day of Week"},"timeHeading":{"type":"string","default":"Time"},"cityHeading":{"type":"string","default":"City"},"groupTypeHeading":{"type":"string","default":"Group Type"},"meetingNameHeading":{"type":"string","default":"Meeting Name"},"groupInfoHeading":{"type":"string","default":"Address / Remote Group and<br />Contact Information"}},"example":{},"supports":{"html":false,"inserter":true,"multiple":true},"textdomain":"meetings-table-block","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","viewScript":"file:./view.js"}'),d=JSON.parse('{"u2":"create-block/meetings-table-row-block"}');(0,e.registerBlockType)(d.u2,{edit:function({attributes:e,setAttributes:n}){const{day:o,mtgStartTime:r,mtgEndTime:d,city:g,locationGroupType:p,accessGroupType:u,genderGroupType:y,additionalGroupType:h,meetingName:f,remoteMtgInfo:E,remoteMtgInfoClass:T,inPersonMtgInfo:C,inPersonMtgInfoClass:b,contactInfo:v,showDetailsToggle:M,moreDetailsClass:I,moreDetails:w}=e,S=new i,N=S.generateDaysArr(),P=S.convertToCapitalDay(o),k=S.generateTimesArr(5),x=S.locationGroupTypeArr(),G=S.accessGroupTypeArr(),A=S.genderGroupTypeArr(),H=S.parentJsonHeadingAttrs(m),{dayOfWeekHeading:D,timeHeading:$,cityHeading:O,groupTypeHeading:B,meetingNameHeading:R,groupInfoHeading:W}=H;return(0,t.useEffect)((()=>{switch(S.removeStrPrefix(p)){case"Remote":n({remoteMtgInfoClass:"show"}),n({inPersonMtgInfoClass:"hide"});break;case"Hybrid (remote & in-person)":n({remoteMtgInfoClass:"show"}),n({inPersonMtgInfoClass:"show"});break;case"In-Person":n({remoteMtgInfoClass:"hide"}),n({inPersonMtgInfoClass:"show"})}}),[p]),(0,t.createElement)("tr",{...(0,l.useBlockProps)(),"data-filter-day":o,"data-filter-city":g,"data-location-group-type":p,"data-access-group-type":u,"data-gender-group-type":y,"data-additional-group-type":h,"data-start-time":r},(0,t.createElement)(l.InspectorControls,null,(0,t.createElement)(a.PanelBody,{title:"Meeting Day of Week"},(0,t.createElement)(a.SelectControl,{label:"Select Meeting Day of Week",value:o,options:N,onChange:e=>{n({day:e})}}))),(0,t.createElement)(l.InspectorControls,null,(0,t.createElement)(a.PanelBody,{title:"Meeting Start Time"},(0,t.createElement)(a.SelectControl,{label:"Select Meeting Start",value:r,options:k,onChange:e=>{n({mtgStartTime:e})}}))),(0,t.createElement)(l.InspectorControls,null,(0,t.createElement)(a.PanelBody,{title:"Meeting End Time"},(0,t.createElement)(a.SelectControl,{label:"Select Meeting End",value:d,options:k,onChange:e=>{n({mtgEndTime:e})}}))),(0,t.createElement)(l.InspectorControls,null,(0,t.createElement)(a.PanelBody,{title:"Meeting City"},(0,t.createElement)(a.TextControl,{value:g,onChange:e=>{n({city:e})}}))),(0,t.createElement)(l.InspectorControls,null,(0,t.createElement)(a.PanelBody,{title:"Meeting Location Type"},(0,t.createElement)(a.SelectControl,{label:"Select Meeting Location Type",value:p,options:x,onChange:e=>{n({locationGroupType:e})}}))),(0,t.createElement)(l.InspectorControls,null,(0,t.createElement)(a.PanelBody,{title:"Meeting Access Type"},(0,t.createElement)(a.SelectControl,{label:"Select Meeting Access Type",value:u,options:G,onChange:e=>{n({accessGroupType:e})}}))),(0,t.createElement)(l.InspectorControls,null,(0,t.createElement)(a.PanelBody,{title:"Meeting Gender Type"},(0,t.createElement)(a.SelectControl,{label:"Select Meeting Gender Type",value:y,options:A,onChange:e=>{n({genderGroupType:e})}}))),(0,t.createElement)(l.InspectorControls,null,(0,t.createElement)(a.PanelBody,{title:"OPTIONAL: Additional Group Type"},(0,t.createElement)(a.TextControl,{label:"Example: 'LGBTQIA' or 'Sexual Anorexia'",value:h,onChange:e=>{n({additionalGroupType:e})}}))),(0,t.createElement)(l.InspectorControls,null,(0,t.createElement)(a.PanelBody,{title:"Meeting Name"},(0,t.createElement)(a.TextControl,{value:f,onChange:e=>{n({meetingName:e})}}))),(0,t.createElement)(l.InspectorControls,null,(0,t.createElement)(a.PanelBody,{title:"Show Meeting Details Editor? (toggle on to show optional 'More Details' field, like to add directions to enter building for in-person meeting)"},(0,t.createElement)(a.CheckboxControl,{label:"Show Meeting Details Editor?",checked:M,onChange:()=>{if(!M)return n({showDetailsToggle:!0}),void n({moreDetailsClass:"show"});n({showDetailsToggle:!1}),n({moreDetailsClass:"hide"})}}))),(0,t.createElement)("td",{"data-heading-label":D},P),(0,t.createElement)("td",{"data-heading-label":$},(0,t.createElement)(c,{mtgStartTime:r,mtgEndTime:d})),(0,t.createElement)("td",{"data-heading-label":O},g),(0,t.createElement)("td",{"data-heading-label":B},(0,t.createElement)(s,{locationGroupType:p,accessGroupType:u,genderGroupType:y,additionalGroupType:h})),(0,t.createElement)("td",{"data-heading-label":R},f),(0,t.createElement)("td",{"data-heading-label":W},(0,t.createElement)("p",{className:T},(0,t.createElement)("strong",null,"Remote Meeting Information")),(0,t.createElement)(l.RichText,{tagName:"p",value:E,onChange:e=>{n({remoteMtgInfo:e})},className:`remote-mtg-info ${T}`,placeholder:"Add Remote Meeting Information here"}),(0,t.createElement)("p",{className:b},(0,t.createElement)("strong",null,"In-Person Meeting Information")),(0,t.createElement)(l.RichText,{tagName:"p",value:C,onChange:e=>{n({inPersonMtgInfo:e})},className:`in-person-mtg-info ${b}`,placeholder:"Add In-Person Meeting Information here"}),(0,t.createElement)("p",null,(0,t.createElement)("strong",null,"Contact Information")),(0,t.createElement)(l.RichText,{tagName:"p",value:v,onChange:e=>{n({contactInfo:e})},className:"contact-info",placeholder:"Add Contact Information for the Meeting here"}),(0,t.createElement)("p",{className:I},(0,t.createElement)("strong",null,"More Details")),(0,t.createElement)(l.RichText,{tagName:"p",value:w,onChange:e=>{n({moreDetails:e})},className:`more-details ${I}`,placeholder:"Add More Details for meeting here (like instructions for where to find in-person meeting in building)"})))},save:function({attributes:e}){const{day:n,mtgStartTime:a,mtgEndTime:o,city:r,locationGroupType:d,accessGroupType:g,genderGroupType:p,additionalGroupType:u,meetingName:y,remoteMtgInfo:h,remoteMtgInfoClass:f,inPersonMtgInfo:E,inPersonMtgInfoClass:T,contactInfo:C,showDetailsToggle:b,moreDetailsClass:v,moreDetails:M}=e,I=new i,w=I.convertToCapitalDay(n),S=I.parentJsonHeadingAttrs(m),{dayOfWeekHeading:N}=S,{timeHeading:P}=S,{cityHeading:k}=S,{groupTypeHeading:x}=S,{meetingNameHeading:G}=S,{groupInfoHeading:A}=S;return(0,t.createElement)("tr",{...l.useBlockProps.save(),"data-filter-day":n,"data-filter-city":r,"data-location-group-type":d,"data-access-group-type":g,"data-gender-group-type":p,"data-additional-group-type":u,"data-start-time":a},(0,t.createElement)("td",{"data-heading-label":N},w),(0,t.createElement)("td",{"data-heading-label":P},(0,t.createElement)(c,{mtgStartTime:a,mtgEndTime:o})),(0,t.createElement)("td",{"data-heading-label":k},r),(0,t.createElement)("td",{"data-heading-label":x},(0,t.createElement)(s,{locationGroupType:d,accessGroupType:g,genderGroupType:p,additionalGroupType:u})),(0,t.createElement)("td",{"data-heading-label":G},y),(0,t.createElement)("td",{"data-heading-label":A},(0,t.createElement)("p",{className:f},(0,t.createElement)("strong",null,"Remote Meeting Information")),(0,t.createElement)(l.RichText.Content,{tagName:"p",value:h,className:`remote-mtg-info ${f}`}),(0,t.createElement)("p",{className:T},(0,t.createElement)("strong",null,"In-Person Meeting Information")),(0,t.createElement)(l.RichText.Content,{tagName:"p",value:E,className:`in-person-mtg-info ${T}`}),(0,t.createElement)("p",null,(0,t.createElement)("strong",null,"Contact Information")),(0,t.createElement)(l.RichText.Content,{tagName:"p",value:C,className:"contact-info"}),(0,t.createElement)("p",{className:v},(0,t.createElement)("strong",null,"More Details")),(0,t.createElement)(l.RichText.Content,{tagName:"p",value:M,className:`more-details ${v}`})))}})}()}();